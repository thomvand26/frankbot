(this.webpackJsonpfrankbot=this.webpackJsonpfrankbot||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/brain.ae14195c.rive"},19:function(e,t,n){e.exports=n.p+"static/media/frank-deboosere.4795c658.jpg"},21:function(e,t,n){e.exports=n(43)},26:function(e,t,n){},27:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),s=(n(26),n(27),n(1)),u=n.n(s),i=n(2),l=n(20),p=n(3),m=n(16),f=n.n(m),b=n(17),h=n.n(b),d="https://api.openweathermap.org/data/2.5/",g="f5e62cea3e7d485815ffe62d8edc70c6",v=n(18),k=n.n(v),E=Object(a.createContext)(),w=function(e){var t=e.children,n=Object(a.useState)(),c=Object(p.a)(n,2),o=c[0],s=c[1],l=Object(a.useState)(),m=Object(p.a)(l,2),f=m[0],b=m[1];function v(){return(v=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(o),e.prev=1,e.next=4,o.loadFile(k.a);case 4:o.sortReplies(),o.setUservar("local-user","location","gent"),console.log("De chatbot is ge\xefnitialiseerd!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function w(e){return o.reply("local-user",e)}function j(e,t){return y.apply(this,arguments)}function y(){return(y=Object(i.a)(u.a.mark((function e(t,n){var a,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),a="".concat(d,"weather?q=").concat(n[0],"&units=metric&lang=nl&APPID=").concat(g),e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:o=e.sent,s="",e.t0=n[1],e.next="temperatuur"===e.t0?12:"wind"===e.t0?14:"regen"===e.t0?16:18;break;case 12:return s="Het is nu ".concat(parseInt(o.main.temp),"\xb0C in ").concat(o.name,"."),e.abrupt("break",21);case 14:return s="Er zijn momenteel windsnelheden van ".concat(parseInt(o.wind.speed)," meter per seconde in ").concat(o.name,"."),e.abrupt("break",21);case 16:return s=o.rain?"Het voorbije uur heeft het ".concat(parseInt(o.rain.rain["1h"]),"mm/m\xb2 geregend in ").concat(o.name,"."):"Het voorbije uur heeft het niet geregend in ".concat(o.name,"."),e.abrupt("break",21);case 18:return f.callback("De weersvoorspelling voor vandaag is ".concat(o.weather[0].description," in ").concat(o.name,".")),f.callback(r.a.createElement("button",{onClick:function(){return O("temperatuur")}},"Temperatuur")),e.abrupt("break",21);case 21:return console.log(a),console.log(o),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.callback(t.trim(),!0),e.next=3,w(t);case 3:n=e.sent,console.log(n),f.callback(n.trim()),console.log(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){s(new h.a),console.log("Triggers: weer, temperatuur, wind, regen")}),[]),Object(a.useEffect)((function(){o&&f&&o.setSubroutine("getWeather",j)}),[o,f]),Object(a.useEffect)((function(){o&&function(){v.apply(this,arguments)}()}),[o]);var N={setAddToDisplay:b,reply:w,botReady:!!o};return r.a.createElement(E.Provider,{value:N},t)},j=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),s=Object(p.a)(o,2),m=s[0],b=s[1],h=Object(a.useRef)(null),d=Object(a.useContext)(E),g=d.reply,v=d.setAddToDisplay,k=d.botReady;function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];""!==e&&b((function(n){return[].concat(Object(l.a)(n),[{message:e,isUser:t}])}))}function j(){return(j=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.trim().length<1)){e.next=3;break}return c(""),e.abrupt("return");case 3:y(n),c("");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t.trim(),!0),e.next=3,g(t);case 3:w(e.sent.trim());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){k&&(v({callback:w}),w(r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"chatButton",onClick:function(){return y("temperatuur")}},"Temperatuur"),r.a.createElement("button",{className:"chatButton",onClick:function(){return y("wind")}},"Wind"),r.a.createElement("button",{className:"chatButton",onClick:function(){return y("regen")}},"Regen"))))}),[k]),Object(a.useEffect)((function(){h.current&&h.current.scrollTo({top:h.current.scrollHeight})}),[m]),r.a.createElement("div",{className:"chatContainer"},r.a.createElement("div",{className:"chatDisplay",ref:h},m.map((function(e,t){return r.a.createElement("div",{key:"message-".concat(t),className:f()("chatMessage","".concat(e.isUser&&"chatMessage--user"))},e.message)}))),r.a.createElement("form",{className:"chatForm",autoComplete:"off",onSubmit:function(e){e.preventDefault(),function(){j.apply(this,arguments)}()}},r.a.createElement("input",{className:"chatInput",type:"text",name:"chatInput",id:"chatInput",onChange:function(e){c(e.target.value)},value:n,autoFocus:!0}),r.a.createElement("button",{type:"submit",className:"chatSend"},"Verstuur")))},y=n(19),O=n.n(y);var x=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"appHeader container"},r.a.createElement("div",{className:"inner"},r.a.createElement("img",{src:O.a,alt:"Frank Deboosere"}),r.a.createElement("h1",null,"Frankbot"))),r.a.createElement("main",{className:"appMain container fullHeight"},r.a.createElement("div",{className:"inner fullHeight"},r.a.createElement(j,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null,r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.6cc27828.chunk.js.map